<!DOCTYPE HTML>
<html lang="zh">
<head>
<!-- Generated by javadoc (19) on Fri Jun 30 12:35:51 CEST 2023 -->
<title>Match</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2023-06-30">
<meta name="description" content="declaration: package: org.am21.model, class: Match">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="切换导航链接"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="跳过导航链接">跳过导航链接</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="导航">
<li><a href="../../../index.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="nav-bar-cell1-rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../help-doc.html#class">帮助</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>概要:</p>
<ul>
<li>嵌套</li>
<li><a href="#field-summary">字段</a></li>
<li><a href="#constructor-summary">构造器</a></li>
<li><a href="#method-summary">方法</a></li>
</ul>
</li>
<li>
<p>详细资料:</p>
<ul>
<li><a href="#field-detail">字段</a></li>
<li><a href="#constructor-detail">构造器</a></li>
<li><a href="#method-detail">方法</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field-summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">方法</a></li>
</ul>
<ul class="sub-nav-list">
<li>详细资料:&nbsp;</li>
<li><a href="#field-detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">方法</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../search.html">SEARCH:</a>
<input type="text" id="search-input" disabled placeholder="搜索">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">程序包</span>&nbsp;<a href="package-summary.html">org.am21.model</a></div>
<h1 title="类 Match" class="title">类 Match</h1>
</div>
<div class="inheritance" title="继承树"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html" title="java.lang中的类或接口" class="external-link">java.lang.Object</a>
<div class="inheritance">org.am21.model.Match</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">Match</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html" title="java.lang中的类或接口" class="external-link">Object</a></span></div>
<div class="block">This class is the match</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>字段概要</h2>
<div class="caption"><span>字段</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">修饰符和类型</div>
<div class="table-header col-second">字段</div>
<div class="table-header col-last">说明</div>
<div class="col-first even-row-color"><code><a href="Player.html" title="org.am21.model中的类">Player</a></code></div>
<div class="col-second even-row-color"><code><a href="#admin" class="member-name-link">admin</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code><a href="items/Board.html" title="org.am21.model.items中的类">Board</a></code></div>
<div class="col-second odd-row-color"><code><a href="#board" class="member-name-link">board</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code><a href="Player.html" title="org.am21.model中的类">Player</a></code></div>
<div class="col-second even-row-color"><code><a href="#chairman" class="member-name-link">chairman</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code><a href="chat/ChatManager.html" title="org.am21.model.chat中的类">ChatManager</a></code></div>
<div class="col-second odd-row-color"><code><a href="#chatManager" class="member-name-link">chatManager</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html" title="java.util中的类或接口" class="external-link">List</a>&lt;<a href="Cards/CommonGoal.html" title="org.am21.model.Cards中的类">CommonGoal</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#commonGoals" class="member-name-link">commonGoals</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code><a href="Player.html" title="org.am21.model中的类">Player</a></code></div>
<div class="col-second odd-row-color"><code><a href="#currentPlayer" class="member-name-link">currentPlayer</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code><a href="enumer/GamePhase.html" title="org.am21.model.enumer 中的枚举类">GamePhase</a></code></div>
<div class="col-second even-row-color"><code><a href="#gamePhase" class="member-name-link">gamePhase</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code><a href="enumer/GameState.html" title="org.am21.model.enumer 中的枚举类">GameState</a></code></div>
<div class="col-second odd-row-color"><code><a href="#gameState" class="member-name-link">gameState</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>int</code></div>
<div class="col-second even-row-color"><code><a href="#matchID" class="member-name-link">matchID</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>int</code></div>
<div class="col-second odd-row-color"><code><a href="#maxSeats" class="member-name-link">maxSeats</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Timer.html" title="java.util中的类或接口" class="external-link">Timer</a></code></div>
<div class="col-second even-row-color"><code><a href="#pauseTimer" class="member-name-link">pauseTimer</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>final <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html" title="java.util中的类或接口" class="external-link">List</a>&lt;<a href="Player.html" title="org.am21.model中的类">Player</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#playerList" class="member-name-link">playerList</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code><a href="virtualview/VirtualView.html" title="org.am21.model.virtualview中的类">VirtualView</a></code></div>
<div class="col-second even-row-color"><code><a href="#virtualView" class="member-name-link">virtualView</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code><a href="Player.html" title="org.am21.model中的类">Player</a></code></div>
<div class="col-second odd-row-color"><code><a href="#winner" class="member-name-link">winner</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>构造器概要</h2>
<div class="caption"><span>构造器</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">构造器</div>
<div class="table-header col-last">说明</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(int)" class="member-name-link">Match</a><wbr>(int&nbsp;maxSeats)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>方法概要</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">所有方法</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">实例方法</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">具体方法</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">修饰符和类型</div>
<div class="table-header col-second">方法</div>
<div class="table-header col-last">说明</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addPlayer(org.am21.model.Player)" class="member-name-link">addPlayer</a><wbr>(<a href="Player.html" title="org.am21.model中的类">Player</a>&nbsp;player)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add player to this match and in the GameManager.matchMap.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#callEndTurnRoutine()" class="member-name-link">callEndTurnRoutine</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is called at the end of each player's turn
 It will call method to check if the current player has reached any goal, or completed the shelf, so it can initiate last round.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#changeSeats(org.am21.model.Player,int)" class="member-name-link">changeSeats</a><wbr>(<a href="Player.html" title="org.am21.model中的类">Player</a>&nbsp;p,
 int&nbsp;maxSeats)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">change the max player of the match</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkCommonGoals(org.am21.model.Player)" class="member-name-link">checkCommonGoals</a><wbr>(<a href="Player.html" title="org.am21.model中的类">Player</a>&nbsp;player)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method check if the player has completed any CommonGoal</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a>[][]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkGamePoints()" class="member-name-link">checkGamePoints</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method return a matrix, which contains game results data
 0 - Player name
 1 - Common Goal points
 2 - Personal Goal Points
 3 - Shelf Group Points
 4 - Eventual Endgame token
 5 - Total Score;</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkRoom()" class="member-name-link">checkRoom</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is called whenever there is a risk that the players number changes.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#decideWinner()" class="member-name-link">decideWinner</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method will decide the absolute winner of the match
 If multiple players have the same highest score, then there is no winner.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#endMatch()" class="member-name-link">endMatch</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is called when the match ends.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#endTurnUpdate()" class="member-name-link">endTurnUpdate</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method to update virtual view after turn end</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Player.html" title="org.am21.model中的类">Player</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFirstToComplete()" class="member-name-link">getFirstToComplete</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is used to get the user id that is the first to complete the match</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getJSONVirtualView()" class="member-name-link">getJSONVirtualView</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the JSON of the virtual view</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#insertionUpdate()" class="member-name-link">insertionUpdate</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method to update virtual view after an insertion</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isEndGameToken()" class="member-name-link">isEndGameToken</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is used to check if the match is ended</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#nextTurn()" class="member-name-link">nextTurn</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method set up the next turn</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#pauseMatch()" class="member-name-link">pauseMatch</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">set game state to pause</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removePlayer(org.am21.model.Player)" class="member-name-link">removePlayer</a><wbr>(<a href="Player.html" title="org.am21.model中的类">Player</a>&nbsp;player)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method allows to safely remove the player from the match.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#selectionUpdate()" class="member-name-link">selectionUpdate</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is called at the end of a SelectCell, DeselectCell or ClearSelectedCards</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendNotificationToAll(boolean)" class="member-name-link">sendNotificationToAll</a><wbr>(boolean&nbsp;includeCurrentPlayer)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Send an interface update notification to all game members</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendPublicChatNotification(java.lang.String,java.lang.String)" class="member-name-link">sendPublicChatNotification</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a>&nbsp;message,
 <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a>&nbsp;sender)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Send Chat notification to all player in the match except the sender</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendTextToAll(java.lang.String,boolean)" class="member-name-link">sendTextToAll</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a>&nbsp;message,
 boolean&nbsp;includeCurrentPlayer)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Send a text message to each player of this match</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setEndGameToken(boolean)" class="member-name-link">setEndGameToken</a><wbr>(boolean&nbsp;endGameToken)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is used to set the end game token</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setGamePhase(org.am21.model.enumer.GamePhase)" class="member-name-link">setGamePhase</a><wbr>(<a href="enumer/GamePhase.html" title="org.am21.model.enumer 中的枚举类">GamePhase</a>&nbsp;phase)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Change GamePhase</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setGameState(org.am21.model.enumer.GameState)" class="member-name-link">setGameState</a><wbr>(<a href="enumer/GameState.html" title="org.am21.model.enumer 中的枚举类">GameState</a>&nbsp;gameState)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">set the game state of the match</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updatePlayersPublicChats()" class="member-name-link">updatePlayersPublicChats</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Send to all game members group chat virtual view</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updatePlayersView()" class="member-name-link">updatePlayersView</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Update match's players with the new version of the virtual view.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateVirtualHand()" class="member-name-link">updateVirtualHand</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Update each player view with the new JSONHand</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">从类继承的方法&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html" title="java.lang中的类或接口" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="java.lang中的类或接口" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#getClass()" title="java.lang中的类或接口" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#hashCode()" title="java.lang中的类或接口" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#notify()" title="java.lang中的类或接口" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#notifyAll()" title="java.lang中的类或接口" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#toString()" title="java.lang中的类或接口" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#wait()" title="java.lang中的类或接口" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#wait(long)" title="java.lang中的类或接口" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="java.lang中的类或接口" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>字段详细资料</h2>
<ul class="member-list">
<li>
<section class="detail" id="matchID">
<h3>matchID</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">matchID</span></div>
</section>
</li>
<li>
<section class="detail" id="admin">
<h3>admin</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Player.html" title="org.am21.model中的类">Player</a></span>&nbsp;<span class="element-name">admin</span></div>
</section>
</li>
<li>
<section class="detail" id="commonGoals">
<h3>commonGoals</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html" title="java.util中的类或接口" class="external-link">List</a>&lt;<a href="Cards/CommonGoal.html" title="org.am21.model.Cards中的类">CommonGoal</a>&gt;</span>&nbsp;<span class="element-name">commonGoals</span></div>
</section>
</li>
<li>
<section class="detail" id="board">
<h3>board</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="items/Board.html" title="org.am21.model.items中的类">Board</a></span>&nbsp;<span class="element-name">board</span></div>
</section>
</li>
<li>
<section class="detail" id="gameState">
<h3>gameState</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="enumer/GameState.html" title="org.am21.model.enumer 中的枚举类">GameState</a></span>&nbsp;<span class="element-name">gameState</span></div>
</section>
</li>
<li>
<section class="detail" id="gamePhase">
<h3>gamePhase</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="enumer/GamePhase.html" title="org.am21.model.enumer 中的枚举类">GamePhase</a></span>&nbsp;<span class="element-name">gamePhase</span></div>
</section>
</li>
<li>
<section class="detail" id="currentPlayer">
<h3>currentPlayer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Player.html" title="org.am21.model中的类">Player</a></span>&nbsp;<span class="element-name">currentPlayer</span></div>
</section>
</li>
<li>
<section class="detail" id="playerList">
<h3>playerList</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html" title="java.util中的类或接口" class="external-link">List</a>&lt;<a href="Player.html" title="org.am21.model中的类">Player</a>&gt;</span>&nbsp;<span class="element-name">playerList</span></div>
</section>
</li>
<li>
<section class="detail" id="maxSeats">
<h3>maxSeats</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">maxSeats</span></div>
</section>
</li>
<li>
<section class="detail" id="virtualView">
<h3>virtualView</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="virtualview/VirtualView.html" title="org.am21.model.virtualview中的类">VirtualView</a></span>&nbsp;<span class="element-name">virtualView</span></div>
</section>
</li>
<li>
<section class="detail" id="chairman">
<h3>chairman</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Player.html" title="org.am21.model中的类">Player</a></span>&nbsp;<span class="element-name">chairman</span></div>
</section>
</li>
<li>
<section class="detail" id="chatManager">
<h3>chatManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="chat/ChatManager.html" title="org.am21.model.chat中的类">ChatManager</a></span>&nbsp;<span class="element-name">chatManager</span></div>
</section>
</li>
<li>
<section class="detail" id="pauseTimer">
<h3>pauseTimer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Timer.html" title="java.util中的类或接口" class="external-link">Timer</a></span>&nbsp;<span class="element-name">pauseTimer</span></div>
</section>
</li>
<li>
<section class="detail" id="winner">
<h3>winner</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Player.html" title="org.am21.model中的类">Player</a></span>&nbsp;<span class="element-name">winner</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>构造器详细资料</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(int)">
<h3>Match</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">Match</span><wbr><span class="parameters">(int&nbsp;maxSeats)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>方法详细资料</h2>
<ul class="member-list">
<li>
<section class="detail" id="setEndGameToken(boolean)">
<h3>setEndGameToken</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setEndGameToken</span><wbr><span class="parameters">(boolean&nbsp;endGameToken)</span></div>
<div class="block">This method is used to set the end game token</div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>endGameToken</code> - true if the match is ended, otherwise false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isEndGameToken()">
<h3>isEndGameToken</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isEndGameToken</span>()</div>
<div class="block">This method is used to check if the match is ended</div>
<dl class="notes">
<dt>返回:</dt>
<dd>true if the match is ended, otherwise false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFirstToComplete()">
<h3>getFirstToComplete</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Player.html" title="org.am21.model中的类">Player</a></span>&nbsp;<span class="element-name">getFirstToComplete</span>()</div>
<div class="block">This method is used to get the user id that is the first to complete the match</div>
<dl class="notes">
<dt>返回:</dt>
<dd>the user id that is the first to complete the match</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setGamePhase(org.am21.model.enumer.GamePhase)">
<h3>setGamePhase</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setGamePhase</span><wbr><span class="parameters">(<a href="enumer/GamePhase.html" title="org.am21.model.enumer 中的枚举类">GamePhase</a>&nbsp;phase)</span></div>
<div class="block">Change GamePhase</div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>phase</code> - new GamePhase</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setGameState(org.am21.model.enumer.GameState)">
<h3>setGameState</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setGameState</span><wbr><span class="parameters">(<a href="enumer/GameState.html" title="org.am21.model.enumer 中的枚举类">GameState</a>&nbsp;gameState)</span></div>
<div class="block">set the game state of the match</div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>gameState</code> - new game state</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="changeSeats(org.am21.model.Player,int)">
<h3>changeSeats</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">changeSeats</span><wbr><span class="parameters">(<a href="Player.html" title="org.am21.model中的类">Player</a>&nbsp;p,
 int&nbsp;maxSeats)</span></div>
<div class="block">change the max player of the match</div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>p</code> - player that want to change the max player</dd>
<dd><code>maxSeats</code> - new max player</dd>
<dt>返回:</dt>
<dd>true if the change is successful, otherwise false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addPlayer(org.am21.model.Player)">
<h3>addPlayer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">addPlayer</span><wbr><span class="parameters">(<a href="Player.html" title="org.am21.model中的类">Player</a>&nbsp;player)</span></div>
<div class="block">Add player to this match and in the GameManager.matchMap. Reset Player data regarding the match
 Also the method checkRoom() will be called to check if the game can starts
 If the match is not started yet, the Client will receive a notification and sent to the Waiting Room</div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>player</code> - player that need to be added to the match</dd>
<dt>返回:</dt>
<dd>true if the addition is successful, otherwise false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removePlayer(org.am21.model.Player)">
<h3>removePlayer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">removePlayer</span><wbr><span class="parameters">(<a href="Player.html" title="org.am21.model中的类">Player</a>&nbsp;player)</span></div>
<div class="block">This method allows to safely remove the player from the match.
 If the player was the admin, the role will be passed on the next player in list if possible.
 Operations:
 - Update PlayerList<br>
 - Update Player's game items<br>
 - Update PlayerMatchMap<br>
 - Update VirtualView (Server and Match)
 - Call CheckRoom() to check if it needs to end the match.</div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>player</code> - player who left the match</dd>
<dt>返回:</dt>
<dd>true if the operation is successful, otherwise false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="pauseMatch()">
<h3>pauseMatch</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">pauseMatch</span>()</div>
<div class="block">set game state to pause</div>
</section>
</li>
<li>
<section class="detail" id="callEndTurnRoutine()">
<h3>callEndTurnRoutine</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">callEndTurnRoutine</span>()</div>
<div class="block">This method is called at the end of each player's turn
 It will call method to check if the current player has reached any goal, or completed the shelf, so it can initiate last round.
 It checks if the board need to be refilled.
 It checks if the conditions to end the match are respected.
 And obviously call the nextTurn() method and update Virtual views.</div>
</section>
</li>
<li>
<section class="detail" id="checkCommonGoals(org.am21.model.Player)">
<h3>checkCommonGoals</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">checkCommonGoals</span><wbr><span class="parameters">(<a href="Player.html" title="org.am21.model中的类">Player</a>&nbsp;player)</span></div>
<div class="block">This method check if the player has completed any CommonGoal</div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>player</code> - player that need to check the goal</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkGamePoints()">
<h3>checkGamePoints</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a>[][]</span>&nbsp;<span class="element-name">checkGamePoints</span>()</div>
<div class="block">This method return a matrix, which contains game results data
 0 - Player name
 1 - Common Goal points
 2 - Personal Goal Points
 3 - Shelf Group Points
 4 - Eventual Endgame token
 5 - Total Score;</div>
<dl class="notes">
<dt>返回:</dt>
<dd>Game Results Matrix</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="endMatch()">
<h3>endMatch</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">endMatch</span>()</div>
<div class="block">This method is called when the match ends.
 Operations:
 - Declare the absolute winner<br>
 - Calculate the game results<br>
 - Reset players score<br>
 - Remove all the players from the match</div>
<dl class="notes">
<dt>返回:</dt>
<dd>true if the match ends correctly</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkRoom()">
<h3>checkRoom</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">checkRoom</span>()</div>
<div class="block">This method is called whenever there is a risk that the players number changes.
 If there isn't enough players to continue the game it calls <a href="#endMatch()"><code>endMatch()</code></a>.
 Otherwise:
 If the state is <a href="enumer/GameState.html#WaitingPlayers"><code>GameState.WaitingPlayers</code></a>: it calls <code>initializeMatch()</code>
 If it is <a href="enumer/GameState.html#Ready"><code>GameState.Ready</code></a>: it calls <code>startFirstRound()</code></div>
</section>
</li>
<li>
<section class="detail" id="nextTurn()">
<h3>nextTurn</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">nextTurn</span>()</div>
<div class="block">This method set up the next turn</div>
</section>
</li>
<li>
<section class="detail" id="updatePlayersView()">
<h3>updatePlayersView</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updatePlayersView</span>()</div>
<div class="block">Update match's players with the new version of the virtual view.</div>
</section>
</li>
<li>
<section class="detail" id="decideWinner()">
<h3>decideWinner</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">decideWinner</span>()</div>
<div class="block">This method will decide the absolute winner of the match
 If multiple players have the same highest score, then there is no winner.</div>
</section>
</li>
<li>
<section class="detail" id="sendTextToAll(java.lang.String,boolean)">
<h3>sendTextToAll</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">sendTextToAll</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a>&nbsp;message,
 boolean&nbsp;includeCurrentPlayer)</span></div>
<div class="block">Send a text message to each player of this match</div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>message</code> - message from the server</dd>
<dd><code>includeCurrentPlayer</code> - if false the message is not sent to the currentPlayer</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sendPublicChatNotification(java.lang.String,java.lang.String)">
<h3>sendPublicChatNotification</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">sendPublicChatNotification</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a>&nbsp;message,
 <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a>&nbsp;sender)</span></div>
<div class="block">Send Chat notification to all player in the match except the sender</div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>message</code> - message to send</dd>
<dd><code>sender</code> - player name of the sender</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updateVirtualHand()">
<h3>updateVirtualHand</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updateVirtualHand</span>()</div>
<div class="block">Update each player view with the new JSONHand</div>
</section>
</li>
<li>
<section class="detail" id="getJSONVirtualView()">
<h3>getJSONVirtualView</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a></span>&nbsp;<span class="element-name">getJSONVirtualView</span>()</div>
<div class="block">Get the JSON of the virtual view</div>
<dl class="notes">
<dt>返回:</dt>
<dd>the JSON of the virtual view</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="selectionUpdate()">
<h3>selectionUpdate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">selectionUpdate</span>()</div>
<div class="block">This method is called at the end of a SelectCell, DeselectCell or ClearSelectedCards</div>
</section>
</li>
<li>
<section class="detail" id="insertionUpdate()">
<h3>insertionUpdate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">insertionUpdate</span>()</div>
<div class="block">Method to update virtual view after an insertion</div>
</section>
</li>
<li>
<section class="detail" id="endTurnUpdate()">
<h3>endTurnUpdate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">endTurnUpdate</span>()</div>
<div class="block">Method to update virtual view after turn end</div>
</section>
</li>
<li>
<section class="detail" id="updatePlayersPublicChats()">
<h3>updatePlayersPublicChats</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updatePlayersPublicChats</span>()</div>
<div class="block">Send to all game members group chat virtual view</div>
</section>
</li>
<li>
<section class="detail" id="sendNotificationToAll(boolean)">
<h3>sendNotificationToAll</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">sendNotificationToAll</span><wbr><span class="parameters">(boolean&nbsp;includeCurrentPlayer)</span></div>
<div class="block">Send an interface update notification to all game members</div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>includeCurrentPlayer</code> - true if the current player should receive the notification</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
